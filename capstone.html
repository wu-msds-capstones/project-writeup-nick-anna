<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.53">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Slow Drip or All at Once?</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="capstone_files/libs/clipboard/clipboard.min.js"></script>
<script src="capstone_files/libs/quarto-html/quarto.js"></script>
<script src="capstone_files/libs/quarto-html/popper.min.js"></script>
<script src="capstone_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="capstone_files/libs/quarto-html/anchor.min.js"></script>
<link href="capstone_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="capstone_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="capstone_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="capstone_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="capstone_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="capstone_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="capstone_files/libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="capstone_files/libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="capstone_files/libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="capstone_files/libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">


</head>

<body>

<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Slow Drip or All at Once?</h1>
            <p class="subtitle lead">How does the staying power of a streaming TV show change based on its release schedule?</p>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Authors</div>
      <div class="quarto-title-meta-contents">
               <p>Nick Brooks </p>
               <p>Anna Clarkson </p>
            </div>
    </div>
      
    
      
    </div>
    
  
  </header><div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#methods" id="toc-methods" class="nav-link" data-scroll-target="#methods">Methods</a>
  <ul class="collapse">
  <li><a href="#google-trends" id="toc-google-trends" class="nav-link" data-scroll-target="#google-trends">Google Trends</a></li>
  <li><a href="#nielsen-weekly-streaming-ratings" id="toc-nielsen-weekly-streaming-ratings" class="nav-link" data-scroll-target="#nielsen-weekly-streaming-ratings">Nielsen Weekly Streaming Ratings</a></li>
  <li><a href="#tv-grim-reaper-weekly-streaming-ratings" id="toc-tv-grim-reaper-weekly-streaming-ratings" class="nav-link" data-scroll-target="#tv-grim-reaper-weekly-streaming-ratings">TV Grim Reaper Weekly Streaming Ratings</a></li>
  <li><a href="#netflix-weekly-top-10-streaming-ratings" id="toc-netflix-weekly-top-10-streaming-ratings" class="nav-link" data-scroll-target="#netflix-weekly-top-10-streaming-ratings">Netflix Weekly Top 10 Streaming Ratings</a></li>
  <li><a href="#flixpatrol-yearly-streaming-ratings" id="toc-flixpatrol-yearly-streaming-ratings" class="nav-link" data-scroll-target="#flixpatrol-yearly-streaming-ratings">FlixPatrol Yearly Streaming Ratings</a></li>
  <li><a href="#show-release-information" id="toc-show-release-information" class="nav-link" data-scroll-target="#show-release-information">Show Release Information</a></li>
  <li><a href="#show-genre-and-language-information" id="toc-show-genre-and-language-information" class="nav-link" data-scroll-target="#show-genre-and-language-information">Show Genre and Language Information</a></li>
  <li><a href="#data-ethics" id="toc-data-ethics" class="nav-link" data-scroll-target="#data-ethics">Data Ethics</a></li>
  </ul></li>
  <li><a href="#data" id="toc-data" class="nav-link" data-scroll-target="#data">Data</a></li>
  <li><a href="#analysis" id="toc-analysis" class="nav-link" data-scroll-target="#analysis">Analysis</a>
  <ul class="collapse">
  <li><a href="#exploratory-data-analysis" id="toc-exploratory-data-analysis" class="nav-link" data-scroll-target="#exploratory-data-analysis">Exploratory Data Analysis</a></li>
  <li><a href="#case-study-fallout-vs.-the-last-of-us" id="toc-case-study-fallout-vs.-the-last-of-us" class="nav-link" data-scroll-target="#case-study-fallout-vs.-the-last-of-us">Case Study: <em>Fallout</em> vs.&nbsp;<em>The Last of Us</em></a></li>
  <li><a href="#tests-and-definitions" id="toc-tests-and-definitions" class="nav-link" data-scroll-target="#tests-and-definitions">Tests and Definitions</a></li>
  <li><a href="#survival-analysis" id="toc-survival-analysis" class="nav-link" data-scroll-target="#survival-analysis">Survival Analysis</a>
  <ul class="collapse">
  <li><a href="#streaming-platforms" id="toc-streaming-platforms" class="nav-link" data-scroll-target="#streaming-platforms">Streaming Platforms</a></li>
  <li><a href="#genre" id="toc-genre" class="nav-link" data-scroll-target="#genre">Genre</a></li>
  <li><a href="#show-release-schedule" id="toc-show-release-schedule" class="nav-link" data-scroll-target="#show-release-schedule">Show Release Schedule</a></li>
  <li><a href="#show-release-schedule-and-genre" id="toc-show-release-schedule-and-genre" class="nav-link" data-scroll-target="#show-release-schedule-and-genre">Show Release Schedule and Genre</a></li>
  <li><a href="#show-release-schedule-and-streaming-platform" id="toc-show-release-schedule-and-streaming-platform" class="nav-link" data-scroll-target="#show-release-schedule-and-streaming-platform">Show Release Schedule and Streaming Platform</a></li>
  </ul></li>
  <li><a href="#machine-learning" id="toc-machine-learning" class="nav-link" data-scroll-target="#machine-learning">Machine Learning</a></li>
  </ul></li>
  <li><a href="#conclusions" id="toc-conclusions" class="nav-link" data-scroll-target="#conclusions">Conclusions</a></li>
  </ul>
</nav>
</div>
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>Binge-watching has been around since the late 1990s, but started to gain popularity in the mid- to late 2000s with the availability (and accessibility) of TV shows like <em>Grey’s Anatomy</em> and <em>Breaking Bad</em> on streaming platforms like Netflix, Hulu, and Amazon Prime Video <span class="citation" data-cites="molla2020 thomas2021">(<a href="#ref-molla2020" role="doc-biblioref">Molla &amp; Kafka, 2020</a>; <a href="#ref-thomas2021" role="doc-biblioref">Thomas &amp; Gennis, 2021</a>)</span>. However, it really took off in 2013 when Netflix began releasing original content, starting with <em>House of Cards</em> and followed later that year by <em>Orange is the New Black</em>. Netflix started the practice of releasing all episodes of a season at once, a sharp departure from the standard weekly episodes <span class="citation" data-cites="rumble2018">(<a href="#ref-rumble2018" role="doc-biblioref">Rumble, 2018</a>)</span>. They continue to release most of their content this way, with a few exceptions (<em>Love is Blind</em> and season 3 of <em>Bridgerton</em>, notably). This strategic shift by Netflix not only redefined viewer expectations but also set a precedent that other streaming platforms would soon follow. The public seemed to love it because they could watch at their own pace and didn’t have to wait a week after a mid-season cliff-hanger <span class="citation" data-cites="mcfarland2024">(<a href="#ref-mcfarland2024" role="doc-biblioref">McFarland, 2024</a>)</span>.</p>
<p>Shows like <em>Succession</em> (2018 - 2023), <em>The Last of Us</em> (2023 - present), and <em>The White Lotus</em> (2021 - present), all of which aired weekly on HBO at the same time they were released on HBO Max (later Max), created intense online discourse and reignited appointment television for an hour each Sunday. This provided not only a way for viewers to connect with each other, but also built momentum and caused the shows to stay in the public discourse for as many weeks as they aired <span class="citation" data-cites="sutton2023">(<a href="#ref-sutton2023" role="doc-biblioref">Sutton, 2023</a>)</span>.</p>
<p>As more streaming platforms came onto the market, so did more methods of releasing original content. While some shows are still released all at once (the “binge model”), many are released weekly, with some providing two or three episodes to start before transitioning to one episode a week. Some shows will also be released in batches of two episodes every week <span class="citation" data-cites="press2021">(<a href="#ref-press2021" role="doc-biblioref">Press, 2021</a>)</span>. For example, all 3 seasons of <em>The Bear</em> on Hulu have been released all at once, while season 1 of <em>Shogun</em> premiered with the first two episodes at once and then weekly.</p>
<p>With the rise of social media, platforms like Twitter became an important place to discuss TV shows with fellow viewers and get recommendations, later followed by TikTok. This project will seek to answer the question “<em>Does the release schedule of a show (weekly, in parts, or all at once) impact their staying power?</em>” Of particular interest is how shows perform on weekly Nielsen charts - both overall and by streaming platform - and their interest over time on Google Trends.</p>
</section>
<section id="methods" class="level1">
<h1>Methods</h1>
<p>In order to answer our question of interest, we had to gather a large amount of data from a wide number of various sources and databases. Unless mentioned otherwise, all of the data that was collected was data specifically about the US. Google Trends data and the ratings data all reflect the United States ratings and values; we decided to exclude worldwide ratings as we are most interested in the US Market.</p>
<section id="google-trends" class="level3">
<h3 class="anchored" data-anchor-id="google-trends">Google Trends</h3>
<p>Google Trends data was collected for each show, movie, or special that appeared on the ratings lists we compiled. This data spans the last five years for each title, irrespective of its original premiere date, to maintain consistency across our dataset. The data was downloaded from the Google Trends website in CSV format, with two columns: Date and Rating. Due to the lack of an API, this process required manual effort, but it ensured precise tracking of interest over time. The ratings are presented on a normalized scale, where 100 represents the peak search interest for the term, and 0 indicates insufficient search volume to meet the reporting threshold.</p>
<p>One challenge was associating the ratings with their respective shows, as the show’s title was not included in the CSV file. We addressed this by naming each CSV file after the show or movie, then adding a column with the file name to match the ratings with the show titles.</p>
<p>To manage the large number of CSV files, we organized them into folders based on the streaming platforms. For example, the ‘Netflix’ folder contained the Google Trends CSVs for shows like <em>Stranger Things</em>, <em>Bridgerton</em>, and <em>The Crown</em>. We then created an R function to loop through the folders, ingest all the data, append the show’s name to the dataset as a new column, and combine all rows into a single CSV file. This approach consolidated the data into one comprehensive file, streamlining further analysis.</p>
</section>
<section id="nielsen-weekly-streaming-ratings" class="level3">
<h3 class="anchored" data-anchor-id="nielsen-weekly-streaming-ratings">Nielsen Weekly Streaming Ratings</h3>
<p>Nielsen Weekly Streaming Ratings data was collected from September 2020 onwards, which is as far back as this data is available (see current week <a href="https://www.nielsen.com/data-center/top-ten/">here</a>). Since Nielsen’s website only provides the most recent release without an archive, we sourced the data from Variety articles (<a href="https://variety.com/2024/tv/news/nielsen-top-10-ratings-streaming-1235693657/">example</a>) and TV Grim Reaper’s Twitter/X posts (<a href="https://x.com/TVGrimReaper/status/1751995525032034443">example</a>). We focused specifically on the Top 10 data for Original Content, as our primary interest lies in understanding how a streaming show’s release schedule influences its popularity. Consequently, data on acquired shows, which were originally released through other means (such as on a broadcast TV channel), were not included in our analysis.</p>
<p>The primary challenge in processing the Nielsen data was its format. We were unable to find a downloadable CSV for the Nielsen data without incurring costs, so we resorted to taking screenshots of the weekly top 10 lists. Each screenshot contained the following details: the week of the the ratings, show rank (1-10), the show’s name, its SVOD Provider (streaming platform), the total number of episodes, and the number of minutes the program was watched in the past week.</p>
<p>With over 190 screenshots to process, we needed an efficient and accurate data extraction solution. Amazon Textract proved to be the most effective tool, allowing us to convert each processed image into ZIP files containing CSVs. We then used R to unzip the folders, clean the data, and merge the files into a single CSV file. This consolidated file includes all the weekly Nielsen data collected, with an additional column for the date of the rankings to maintain chronological order of the data.</p>
</section>
<section id="tv-grim-reaper-weekly-streaming-ratings" class="level3">
<h3 class="anchored" data-anchor-id="tv-grim-reaper-weekly-streaming-ratings">TV Grim Reaper Weekly Streaming Ratings</h3>
<p>In addition to Nielsen’s overall ratings, which encompass all major streaming platforms, Nielsen also releases weekly top 10 ratings for each streaming platform. We sourced these Nielsen top 10 lists for individual streaming platforms from the TV Grim Reaper on Twitter/X (<a href="https://x.com/TVGrimReaper/status/1787594943994941612">example</a>). The account, run by Bill Gorman, co-founder of TV by the Numbers, obtains these lists from a source at a company that subscribes to Nielsen. The TV Grim Reaper posted screenshots of these rankings from June 2023 to April 2024, providing roughly one year’s worth of data.</p>
<p>We gathered ratings for the following platforms: Amazon Prime Video, Apple TV+, Disney+ and Hulu. We did not collect data for Netflix (see next section), and we did not include Peacock or Paramount+ as their top 10 data was not captured by the TV Grim Reaper and we could not find alternative sources for this data.</p>
<p>As with the Nielsen weekly ratings, screenshots of each tweet were processed using the Amazon Textract API from AWS. R was then used to unzip the folders, clean the data, and merge the files for each platform.</p>
<p>Although the TV Grim Reaper data was not used in the final analysis, it played a crucial role in shaping our understanding of streaming-platform specific trends. Several shows in our dataset appeared on these rankings, and the initial inclusion of the data provided valuable context for cross-referencing with other sources. Therefore, it was important to acknowledge this source, as it influenced which shows were considered for our study.</p>
</section>
<section id="netflix-weekly-top-10-streaming-ratings" class="level3">
<h3 class="anchored" data-anchor-id="netflix-weekly-top-10-streaming-ratings">Netflix Weekly Top 10 Streaming Ratings</h3>
<p>We did not gather Netflix Top 10 data from the TV Grim Reaper because Netflix is the only streaming platform that offers a CSV download of its weekly top 10 history directly (<a href="https://www.netflix.com/tudum/top10/united-states/tv?week=2024-07-21">link</a>). This dataset covers a longer period, going from August 2021 to the present day, and includes detailed information that significantly enhanced the robustness of our analysis. The CSV format includes key variables such as date, ranking, and show name, which were crucial for our study.</p>
<p>Netflix’s top 10 ratings includes ratings for each individual country where Netflix is available. For our analysis, we filtered the dataset to include only the ratings for the United States. Additionally, since the dataset includes both top 10 ratings for movies and television shows, we filtered out any movies to focus solely on television shows.</p>
</section>
<section id="flixpatrol-yearly-streaming-ratings" class="level3">
<h3 class="anchored" data-anchor-id="flixpatrol-yearly-streaming-ratings">FlixPatrol Yearly Streaming Ratings</h3>
<p>FlixPatrol is a movie and TV ratings compiler that provides an API to retrieve ratings lists with options to filter by show type, streaming platform, country, year, and more. We collected yearly ratings for the eight main streaming platforms analyzed in our study (Amazon Prime, Apple TV+, Disney+, HBO Max, Hulu, Netflix, Paramount+, and Peacock) for the years of 2021-2024, which overlaps with our weekly streaming ratings data. These ratings reflect the total number of minutes watched over the year.</p>
<p>The API’s ability to specify columns (show, platform, rating, and date) and provide CSV downloads made data extraction straightforward. However, we encountered a challenge with obtaining top 10 data for original programming only. Although the API allows filtering by creator, not all streaming platforms could be filtered. To address this, we got the overall top 10 lists for the platforms without specific filters (Peacock and Paramount+), and manually identified original programming by reviewing the lists until we reached ten original shows per year.</p>
</section>
<section id="show-release-information" class="level3">
<h3 class="anchored" data-anchor-id="show-release-information">Show Release Information</h3>
<p>One of the main components of our project is the release schedule of individual shows. To obtain this information, we compiled a list of shows from our dataset and used Wikipedia articles for each platform (<a href="https://en.wikipedia.org/wiki/List_of_Amazon_Prime_Video_original_programming">example</a>) to determine the number of seasons and their release schedules.</p>
<p>We binned (categorized) the release schedules into three types: all at once, hybrid, and weekly. “All at once” refers to shows where the entire season is released simultaneously, “weekly” indicates episodes are released one per week, and “hybrid” describes a combination of both methods. For example, the first season of <em>Ted Lasso</em> was released with the first three episodes all at once, followed by weekly releases.</p>
<p>To accurately classify shows like <em>Bridgerton</em>, which changed their release schedules over time, we categorized each season individually. For instance, seasons 1 and 2 of <em>Bridgerton</em> were released all at once, whereas season 3 was released in two four-episode batches. As such, it would be misleading to classify <em>Bridgerton</em> as either a strictly ‘all at once’ or strictly ’hybrid‘ release schedule. This approach ensures precise classification despite variations in release schedules.</p>
<p>While Wikipedia’s accuracy could be questioned, it was the most comprehensive and accessible source available for detailed episode release information all on one page, facilitating quicker data collection. Additionally, Wikipedia’s active editorial community helps maintain accuracy, especially on heavily trafficked articles (such as popular TV shows). After evaluating the potential risks, we decided to proceed with Wikipedia as a source of reliable information for our needs.</p>
<p>We also identified whether each show was original content for the streaming platform or acquired from a third-party source. For instance, <em>Young Sheldon</em> is available on Netflix but was created by and originally aired on CBS. Thus, CBS is the third-party source for <em>Young Sheldon</em>. As our focus was on the release schedules of streaming shows, we excluded acquired content from our analysis.</p>
</section>
<section id="show-genre-and-language-information" class="level3">
<h3 class="anchored" data-anchor-id="show-genre-and-language-information">Show Genre and Language Information</h3>
<p>Another important variable in our analysis is the genre of a show and its potential impact on popularity. To gather this information, we again relied on Wikipedia, which provides detailed genre classifications. However, genres listed on Wikipedia can be extremely specific. For example, the Amazon Prime Video show <em>Gen V</em> is categorized as a ’superhero teen drama‘, a genre unique to that show in our dataset. Thus, using the exact genres as listed would not be sufficient for our analysis. We decided to simplify the genre classifications by binning them into broader categories.</p>
<p>We binned shows into three main genres: drama, comedy, and docuseries. Any show with a genre included the word <em>comedy</em>, <em>drama</em>, or <em>docuseries</em> was placed into the corresponding category. For the remaining genres, we classified them based on how they best fit into these bins:</p>
<ul>
<li>Docuseries: Includes any genre related to non-fiction or real-world events, such as true crime documentaries, reality competition shows, and game shows.</li>
<li>Drama: Encompasses genres typically associated with dramatic content, such as horror, thriller, and telenovela.</li>
<li>Comedy: Covers genres that are generally lighthearted, including sitcoms, children’s shows, and mockumentaries.</li>
</ul>
<p>An important caveat is that each show was classified into one of the three genre categories with one exception. Shows listed with both Comedy and Drama genres, such as <em>The Bear</em> (a ’comedy drama‘), were classified into both categories. To avoid duplication in our database, we separated the binned genres into a different table, ensuring each show appears only once in the main shows table.</p>
<p>We also gathered language information for each show. Although we collected ratings specifically for the US, the dataset does includes shows with dialogue primarily in a foreign language. To address this, we collected language data from Wikipedia alongside the genre information.</p>
</section>
<section id="data-ethics" class="level2">
<h2 class="anchored" data-anchor-id="data-ethics">Data Ethics</h2>
<p>Our study focuses on shows included in the top 10 lists by Nielsen and Netflix, providing insight into the most popular content rather than a comprehensive view of the entire streaming landscape. This approach acknowledges that the rankings may fluctuate based on the release of highly anticipated shows, which could overshadow other content that might otherwise gain attention in a different week.</p>
<p>We also recognize that subscription services come with inherent biases, as the audience demographic varies by platform, influenced by cost and accessibility. Streaming services, ranging from $5.99 (ad-supported Paramount+ or Peacock) to $15.99 (ad-free HBO Max) per month <span class="citation" data-cites="moses2023">(<a href="#ref-moses2023" role="doc-biblioref">Moses, 2023</a>)</span>, are not universally accessible, potentially skewing our findings towards a more affluent or tech-savvy audience.</p>
<p>In considering the ethical dimensions of our research, we must consider the potential implications of our findings on the streaming industry. If our study concludes that the all-at-once release model generates more sustained buzz, this could influence platforms to favor this approach, potentially exacerbating binge-watching behavior. While convenient, binge-watching raises concerns about mental and physical health, such as increased screen time, sleep disruption, and the potential for addictive consumption patterns <span class="citation" data-cites="northwestern2024">(<a href="#ref-northwestern2024" role="doc-biblioref">Medicine, 2024</a>)</span>.</p>
<p>Furthermore, if streaming platforms were to prioritize all-at-once releases based on our findings, it could lead to unequal opportunities for content creators. Smaller or less mainstream shows might struggle to compete in a landscape where immediate, large-scale engagement becomes the standard measure of success.</p>
</section>
</section>
<section id="data" class="level1">
<h1>Data</h1>
<p>We decided to store our data in third normal form (3NF), and as such, assigned unique ID numbers to each show and streaming platform in the ratings. The most time consuming and tedious part of the project was in getting all of the show titles in a consistent format so that we could assign them all IDs. Many shows were listed in multiple different ways in the various ratings; for example, the Netflix show <em>Formula 1: Drive to Survive</em> was in the datasets as ‘Formula 1: Drive to Survive’, ‘FORMULA 1: DRIVE SURVIVE’, and ‘Formula One: Drive…’. This was true for many of the shows in the various datasets, so in order to ensure consistency for joining purposes, we went through the datasets and set each show name to a consistent format. This ended up being a pretty considerable effort, taking a few days’ worth of work to complete. But once we were finished, we were able to easily and consistently join our datasets together and change the show names to show ids.</p>
<p>The way that we structured our database tables is shown in the Entity Relationship Diagram of <a href="#fig-1"><strong>Figure 1</strong></a>.</p>
<p>We use the show_id as our main connecting piece, allowing us to connect our shows table with the various ratings tables, the gtrends table (containing Google Trends data), and the releaseinfo and binned_genres tables.</p>
<p>Instead of having unique Primary Keys for each table, we primarily use compound keys as unique identifiers for each of our tables. Only the shows and platforms tables have single value primary keys. Every other table has a compound primary key. The compound keys were chosen to have a unique identifier that we could use to identify each row. For example, the netflixtop10 table’s compound key consists of the show_id, date, and season_title. This is because Netflix’s Top 10 data breaks down a show by season, so a single show could appear on the same week’s top 10 list multiple times. An example of this is <em>Bridgerton</em>. The Netflix Top 10 list for the week of June 6, 2024 contains <em>Bridgerton</em> Season 3, <em>Bridgerton</em> Season 2, and <em>Bridgerton</em> Season 1. As such, a compound key of just the show_id and date would not create a unique compound key. Therefore, season_title was also included to differentiate between the different seasons of a show.</p>
<p>The season_number was included in the compound key of the releaseinfo table for similar reasons; as the release schedule for a show can change over the lifetime of the show, we needed to include the season_number to the compound key alongside the show_id to ensure that each row had a unique identifier.</p>
<p>Most of the other tables such as gtrends, reaperratings, yearlyratings, and nielsenratings use a compound key of just the date and show_id as they do not differentiate between seasons, and therefore each show would have at maximum one data point per week, making our compound keys unique for these tables.</p>
<p>The binned_genres table required including both the show_id and the binned_genre as part of the compound key. This is due to the fact that, as mentioned in the <strong>Show Genre</strong> section, there are a small number of shows whose genre listed both ‘comedy’ and ‘drama’, and as such, we classified them as both. Therefore, within the binned_genres table, there are a few show_ids that are repeated, so we must additionally include the binned_genre column in our compound key to ensure that each row is unique.</p>
<p><a href="images/erd.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="Figure 1: ERD of Database Design and Structure"><img src="images/erd.png" id="fig-1" class="img-fluid" width="780" alt="Figure 1: ERD of Database Design and Structure"></a> <em><strong>Figure 1</strong>: ERD of Database Design and Structure</em></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Data Dictionary - Column Names, Descriptions, Data Types, and Examples (Click to Expand)
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<table class="caption-top table">
<caption>Table 1 - <strong>shows</strong>: Identifying information for each show in dataset</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 45%">
<col style="width: 12%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Column Name</th>
<th>Description</th>
<th>Data Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>id</code></td>
<td>Unique identifier for the TV show</td>
<td>Integer</td>
<td>28</td>
</tr>
<tr class="even">
<td><code>name</code></td>
<td>Name of the show</td>
<td>Text</td>
<td>JuryDuty</td>
</tr>
<tr class="odd">
<td><code>platform_id</code></td>
<td>Unique identifier for the streaming platform</td>
<td>Integer</td>
<td>1</td>
</tr>
<tr class="even">
<td><code>tv_or_movie</code></td>
<td>Whether the content was a TV show or movie</td>
<td>Text</td>
<td>TV</td>
</tr>
<tr class="odd">
<td><code>genre</code></td>
<td>Genre of the show</td>
<td>Text</td>
<td>Mockumentary</td>
</tr>
<tr class="even">
<td><code>miniseries</code></td>
<td>Whether it was a miniseries or not</td>
<td>Text</td>
<td>N</td>
</tr>
<tr class="odd">
<td><code>foreign_language</code></td>
<td>Whether it was in a foreign language or not</td>
<td>Text</td>
<td>N</td>
</tr>
<tr class="even">
<td><code>original_content</code></td>
<td>Whether it was original content or not</td>
<td>Boolean</td>
<td>Y</td>
</tr>
<tr class="odd">
<td><code>notes</code></td>
<td>Any notes</td>
<td>Text</td>
<td>Freevee</td>
</tr>
</tbody>
</table>
<p><br><br></p>
<table class="caption-top table">
<caption>Table 2 - <strong>gtrends</strong>: Google Trends data for the last 5 years</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 45%">
<col style="width: 12%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Column Name</th>
<th>Description</th>
<th>Data Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>show_id</code></td>
<td>Unique identifier for the TV show</td>
<td>Integer</td>
<td>28</td>
</tr>
<tr class="even">
<td><code>date</code></td>
<td>Date of the pulled Google Trends number</td>
<td>Date</td>
<td>2023-05-07</td>
</tr>
<tr class="odd">
<td><code>rating</code></td>
<td>Google Trends rating (0-100)</td>
<td>Integer</td>
<td>73</td>
</tr>
</tbody>
</table>
<p><br><br></p>
<table class="caption-top table">
<caption>Table 3 - <strong>nielsenratings</strong>: Nielsen ratings for streaming originals</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 45%">
<col style="width: 12%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Column Name</th>
<th>Description</th>
<th>Data Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>date</code></td>
<td>Date of the rating</td>
<td>Date</td>
<td>2021-09-26</td>
</tr>
<tr class="even">
<td><code>show_id</code></td>
<td>Unique identifier for the TV show</td>
<td>Integer</td>
<td>108</td>
</tr>
<tr class="odd">
<td><code>rank</code></td>
<td>Rank for that week (1-10)</td>
<td>Text</td>
<td>5</td>
</tr>
<tr class="even">
<td><code>episode_count</code></td>
<td>Number of episodes at the time of the rating</td>
<td>Integer</td>
<td>20</td>
</tr>
<tr class="odd">
<td><code>minutes_watched</code></td>
<td>Total minutes viewed by persons 2+</td>
<td>Text</td>
<td>311000000</td>
</tr>
<tr class="even">
<td><code>platform_id</code></td>
<td>Unique identifier for the streaming platform</td>
<td>Integer</td>
<td>2</td>
</tr>
</tbody>
</table>
<p><br><br></p>
<table class="caption-top table">
<caption>Table 4 - <strong>reaperratings</strong>: Nielsen ratings for streaming originals on individual platforms</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 45%">
<col style="width: 12%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Column Name</th>
<th>Description</th>
<th>Data Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>date</code></td>
<td>Date of the rating</td>
<td>Date</td>
<td>2023-11-19</td>
</tr>
<tr class="even">
<td><code>show_id</code></td>
<td>Unique identifier for the TV show</td>
<td>Integer</td>
<td>108</td>
</tr>
<tr class="odd">
<td><code>rank</code></td>
<td>Rank for that week (1-10)</td>
<td>Text</td>
<td>4</td>
</tr>
<tr class="even">
<td><code>platform_id</code></td>
<td>Unique identifier for the streaming platform</td>
<td>Integer</td>
<td>2</td>
</tr>
<tr class="odd">
<td><code>runtime</code></td>
<td>Runtime of the show at the time of the rating</td>
<td>Integer</td>
<td>1471</td>
</tr>
<tr class="even">
<td><code>episode_count</code></td>
<td>Number of episodes at the time of the rating</td>
<td>Integer</td>
<td>34</td>
</tr>
<tr class="odd">
<td><code>minutes_watched</code></td>
<td>Total minutes viewed by persons 2+</td>
<td>Text</td>
<td>150000000</td>
</tr>
</tbody>
</table>
<p><br><br></p>
<table class="caption-top table">
<caption>Table 5 - <strong>yearlyratings</strong>: FlixPatrol yearly ratings for TV shows</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 45%">
<col style="width: 12%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Column Name</th>
<th>Description</th>
<th>Data Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>year</code></td>
<td>Year of the rating</td>
<td>Integer</td>
<td>2022</td>
</tr>
<tr class="even">
<td><code>show_id</code></td>
<td>Unique identifier for the TV show</td>
<td>Integer</td>
<td>108</td>
</tr>
<tr class="odd">
<td><code>rank</code></td>
<td>Rank for that week (1-10)</td>
<td>Integer</td>
<td>1</td>
</tr>
<tr class="even">
<td><code>platform_id</code></td>
<td>Unique identifier for the streaming platform</td>
<td>Integer</td>
<td>2</td>
</tr>
<tr class="odd">
<td><code>rating_value_score</code></td>
<td>Score calculated based on daily position in chart</td>
<td>Integer</td>
<td>307</td>
</tr>
</tbody>
</table>
<p><br><br></p>
<table class="caption-top table">
<caption>Table 6 - <strong>netflixtop10</strong>: Netflix top 10 rankings</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 45%">
<col style="width: 12%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Column Name</th>
<th>Description</th>
<th>Data Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>show_id</code></td>
<td>Unique identifier for the TV show</td>
<td>Integer</td>
<td>567</td>
</tr>
<tr class="even">
<td><code>date</code></td>
<td>Date of the rating</td>
<td>Integer</td>
<td>2021-07-18</td>
</tr>
<tr class="odd">
<td><code>rank</code></td>
<td>Rank for that week (1-10)</td>
<td>Integer</td>
<td>3</td>
</tr>
<tr class="even">
<td><code>weeks_in_top10</code></td>
<td>Weeks the title has been in top 10</td>
<td>Integer</td>
<td>1</td>
</tr>
<tr class="odd">
<td><code>season_title</code></td>
<td>Name of the season</td>
<td>Text</td>
<td>Never Have I Ever: Season 2</td>
</tr>
</tbody>
</table>
<p><br><br></p>
<table class="caption-top table">
<caption>Table 7 - <strong>release_info</strong>: Release information for shows in dataset</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 45%">
<col style="width: 12%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Column Name</th>
<th>Description</th>
<th>Data Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>show_id</code></td>
<td>Unique identifier for the TV show</td>
<td>Integer</td>
<td>28</td>
</tr>
<tr class="even">
<td><code>release_schedule</code></td>
<td>Release schedule of the show</td>
<td>Text</td>
<td>first four episodes at once, then batches</td>
</tr>
<tr class="odd">
<td><code>season_number</code></td>
<td>Season of the show</td>
<td>Integer</td>
<td>1</td>
</tr>
<tr class="even">
<td><code>binned_release</code></td>
<td>Binned release schedule</td>
<td>Text</td>
<td>hybrid</td>
</tr>
</tbody>
</table>
<p><br><br></p>
<table class="caption-top table">
<caption>Table 8 - <strong>binned_genres</strong>: Binned genres for shows in dataset</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 45%">
<col style="width: 12%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Column Name</th>
<th>Description</th>
<th>Data Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>show_id</code></td>
<td>Unique identifier for the TV show</td>
<td>Integer</td>
<td>567</td>
</tr>
<tr class="even">
<td><code>binned_genre</code></td>
<td>Binned genre</td>
<td>Text</td>
<td>comedy</td>
</tr>
</tbody>
</table>
<p><br><br></p>
<table class="caption-top table">
<caption>Table 9 - platforms: Platforms in dataset</caption>
<colgroup>
<col style="width: 23%">
<col style="width: 45%">
<col style="width: 12%">
<col style="width: 18%">
</colgroup>
<thead>
<tr class="header">
<th>Column Name</th>
<th>Description</th>
<th>Data Type</th>
<th>Example</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>id</code></td>
<td>Unique identifier for the streaming platform</td>
<td>Integer</td>
<td>1</td>
</tr>
<tr class="even">
<td><code>platform_name</code></td>
<td>Name of the streaming platform</td>
<td>Text</td>
<td>Amazon Prime</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</section>
<section id="analysis" class="level1">
<h1>Analysis</h1>
<p>Our analysis includes exploratory data analysis, a case study, survival analysis, and a machine learning model.</p>
<section id="exploratory-data-analysis" class="level2">
<h2 class="anchored" data-anchor-id="exploratory-data-analysis">Exploratory Data Analysis</h2>
<p>After gathering all of the data listed above, we ended up with a dataset comprising 684 TV shows that are original content on streaming platforms. The breakdown of the shows by streaming platform is shown in <a href="#fig-2"><strong>Figure 2</strong></a>.</p>
<p>The dataset reveals a notable dominance of Netflix, which has significantly more shows than any other platform - in fact, more than all other platforms combined. This discrepancy can be attributed to two main factors. First, Netflix’s weekly top 10 data spans 3.5 years, compared to approximately 0.75 years for the other platforms. This additional 2+ years worth of data contributes to the larger number of Netflix shows. Second, Netflix’s status as the most popular streaming platform enables it to produce more original content due to greater funding and resources. DigitalTrends reports that Netflix has 270 million monthly subscribers, whereas Hulu, Max, Paramount+, and Apple TV+ all have under 100 million subscribers <span class="citation" data-cites="nickinson2024">(<a href="#ref-nickinson2024" role="doc-biblioref">Nickinson, 2024</a>)</span>. This substantial difference in revenue allows Netflix to invest more in original content and achieve higher Nielsen ratings. Additionally, Netflix’s longer history as the oldest streaming platform, having been launched in 2007 <span class="citation" data-cites="barnes2019">(<a href="#ref-barnes2019" role="doc-biblioref">Barnes, 2019</a>)</span>, has afforded it more time to develop a vast library original content.</p>
<p>This prominence of Netflix in our dataset will likely influence the results, potentially skewing them in favor of what is most successful for Netflix. This is something that we need to be aware of during our analysis.</p>
<p><a href="images/tv_shows_by_platform.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Figure 2: Netflix dominates the dataset with the most total shows"><img src="images/tv_shows_by_platform.png" id="fig-2" class="img-fluid" width="780" alt="Figure 2: Netflix dominates the dataset with the most total shows"></a> <em><strong>Figure 2</strong>: Netflix dominates the dataset with the most total shows</em></p>
<p><br></p>
<p>The breakdown of shows by binned genre is as follows (<a href="#fig-3"><strong>Figure 3</strong></a>).</p>
<p>The distribution of shows by genre apears relatively straightforward and aligns with expectations. Initially, we were surprised by the lower number of comedy shows compared to drama and docuseries. However, this can be attributed to our data collection method, which focused solely on shows featured in the top 10 rankings. Since critically acclaimed TV shows are often dramas, this difference in genre counts makes sense.</p>
<p>Understanding the genre distribution is essential as it may reveal genre-specific trends in how release schedules impact viewer engagement. We categorized the shows by genre because we anticipate that every release schedule will not be appropriate for every type of show. As such, we expect to see a change in the popularity of shows in given release genres depending on the show’s genre.</p>
<p><a href="images/tv_shows_by_genre.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Figure 3: Drama shows are the most common genre"><img src="images/tv_shows_by_genre.png" id="fig-3" class="img-fluid" width="780" alt="Figure 3: Drama shows are the most common genre"></a> <em><strong>Figure 3</strong>: Drama shows are the most common genre</em></p>
<p><br></p>
<p>The breakdown of shows by their release schedule is shown in <a href="#fig-4"><strong>Figure 4</strong></a>.</p>
<p>As <a href="#fig-4"><strong>Figure 4</strong></a> shows, Netflix is far and away the reason why ‘all at once’ shows dominate the dataset, having over 300 shows with that release schedule. The other streaming platforms have much more of an even distribution, but we will need to be cognizant of the Netflix domination during our analysis.</p>
<p><a href="images/shows_by_schedule_platform.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Figure 4: Netflix spearheads the all-at-once release type (the shows whose release schedule changed were classified as ‘Changed’ on this graphic)"><img src="images/shows_by_schedule_platform.png" id="fig-4" class="img-fluid" width="780" alt="Figure 4: Netflix spearheads the all-at-once release type (the shows whose release schedule changed were classified as ‘Changed’ on this graphic)"></a> <em><strong>Figure 4</strong>: Netflix spearheads the all-at-once release type (the shows whose release schedule changed were classified as ‘Changed’ on this graphic)</em></p>
<p><br></p>
</section>
<section id="case-study-fallout-vs.-the-last-of-us" class="level2">
<h2 class="anchored" data-anchor-id="case-study-fallout-vs.-the-last-of-us">Case Study: <em>Fallout</em> vs.&nbsp;<em>The Last of Us</em></h2>
<p>We wanted to compare two similar shows with different release schedules: Prime Video’s <em>Fallout</em> and HBO’s <em>The Last of Us</em>. Both are post-apocalyptic dramas based on video game franchises.</p>
<p><a href="#fig-5"><strong>Figure 5</strong></a> and <a href="#fig-6"><strong>Figure 6</strong></a> illustrate the Google Trends search interest and Nielsen top 10 streaming rankings for these shows. <em>Fallout</em> was released in full on Prime Video on April 10, 2024. Interest in <em>Fallout</em> peaked at its premiere but declined sharply within a week, droppping to half its peak popularity. The show’s interest continued to decline, though it exhibited occasional small peaks.</p>
<p>In contrast, interest in <em>The Last of Us</em>, which premireed on HBO (simulcast on HBO Max) on January 15, 2023, and concluded on March 12, jumped weekly as new episodes aired, maintaining high interest levels. The show’s interest did not dip below the halfway mark until nearly a week after the finale.</p>
<p><em>Fallout</em> appeared on the Nielsen rankings for 7 weeks, spending 4 of those at #1 before dropping to #7. <em>The Last of Us</em> was ranked on Nielsen for 9 weeks, achieving the #1 spot for just one week, but never falling below #4.</p>
<p><a href="images/fallout_tlou_gtrends.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="Figure 5: Search interest (daily, based on Google Trends) for Fallout* and The Last of Us, starting one week before it was released and going until it fell off the Nielsen rankings*"><img src="images/fallout_tlou_gtrends.jpg" id="fig-5" class="img-fluid" width="780" alt="Figure 5: Search interest (daily, based on Google Trends) for Fallout* and The Last of Us, starting one week before it was released and going until it fell off the Nielsen rankings*"></a> <em><strong>Figure 5</strong>:</em> <em>Search interest (daily, based on Google Trends) for </em>Fallout* and <em>The Last of Us</em>, starting one week before it was released and going until it fell off the Nielsen rankings*</p>
<p><a href="images/fallout_tlou_rank.jpg" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="Figure 6: Search interest (daily, based on Google Trends) and Nielsen ranking (weekly) for The Last of Us, starting one week before it premiered and going until four weeks after the finale. Nielsen ranking is just for HBO Max and does not include the television channel"><img src="images/fallout_tlou_rank.jpg" id="fig-6" class="img-fluid" width="780" alt="Figure 6: Search interest (daily, based on Google Trends) and Nielsen ranking (weekly) for The Last of Us, starting one week before it premiered and going until four weeks after the finale. Nielsen ranking is just for HBO Max and does not include the television channel"></a> <em><strong>Figure 6</strong>: Search interest (daily, based on Google Trends) and Nielsen ranking (weekly) for </em>The Last of Us<em>, starting one week before it premiered and going until four weeks after the finale. Nielsen ranking is just for HBO Max and does not include the television channel</em></p>
</section>
<section id="tests-and-definitions" class="level2">
<h2 class="anchored" data-anchor-id="tests-and-definitions">Tests and Definitions</h2>
<p>In the process of performing our analysis, we will be utilizing a wide range of different statistical models, tests, and techniques. To ensure clarity and understanding, we have provided these definitions below.</p>
<dl>
<dt>Kaplan-Meier Curves</dt>
<dd>
<p>Kaplan-Meier curves graphically represent the survival probability of a particular variable over time. They display how long it takes for an event to happen; oftentimes, this event is a “death”, such as a part breaking or a show ending. They are read as follows: say a Kaplan-Meier curve shows that variable A has a 100% survival rate at time 0, and a 50% survival rate at time 1. That means that, between time 0 and time 1, 50% of the instances of variable A in the dataset did not survive to time 1.</p>
</dd>
<dd>
<p>If there is a vertical line present, that indicates censored data. Censored data indicates an observation that has yet to encounter “death”. In the example of a survival curve of how long it takes for a part to break, if a part was observed for one week and did not break, then it would be represented as a single vertical line at the one week mark, indicating that the observation was censored at that point, as observations ended. In our graphs, which demonstrate how long it took for a show to go from Maximum Google Trends rating of 100 to Minimum Google Trends rating of 0, censored data means that the show has hit its maximum rating but has yet to go back down to 0 rating (implying ongoing popularity).</p>
</dd>
<dt>Chi-squared Tests</dt>
<dd>
<p>Chi-squared tests determine if the observed differences between two variables are statistically significant. The test calculates the chi-square statistic, which measures the discrepancy between the observed and expected frequencies. If the chi-square statistic is sufficiently large, the null hypothesis is rejected, indicating a significant association between the variables.</p>
</dd>
<dt>Log Rank Tests</dt>
<dd>
<p>A log rank test is a statistical test to determine whether the survival rates of two or more groups are significantly different. The log-rank test compares the observed number of events (such as deaths or failures) in each group to the expected number of events.</p>
</dd>
<dt>Ensemble Model</dt>
<dd>
<p>An ensemble model is a machine learning classification model that combines the predictions of multiple models to make a more accurate overall decision. It works via a voting majority: if a majority of the models determine that an observation belongs to a given category, then the ensemble model will predict that the observation is part of the category.</p>
</dd>
<dt>Confusion Matrix</dt>
<dd>
<p>A confusion matrix is a graphical representation of a classification model’s success. It shows the number of true instances of a given category and the number of predicted instances of a given category as a way to represent a model’s accuracy.</p>
</dd>
</dl>
</section>
<section id="survival-analysis" class="level2">
<h2 class="anchored" data-anchor-id="survival-analysis">Survival Analysis</h2>
<p>To explore how factors like a show’s release schedule, genre, and streaming platform impact its staying power, we chose survival analysis as the most ideal method.</p>
<p>First and foremost, we needed to identify a way to calculate a show’s staying power. To do this, we decided to use Google Trends data. This was chosen over Nielsen Ratings to simply give us more data points; many shows appear only a single time in the top 10 ranking. On the flip side, using Google Trends data, we have a few hundred data points for every show. As such, we felt that this additional depth would allow for a more consistent proxy for overall popularity. As we have Google Trends data for each show going back over the last 5 years, we determined that using Google Trends to be a proxy for a show’s staying power would be ideal. As a reminder, Google Trends data is normalized on a scale from 0 to 100, with 100 being equal to the time during the past 5 years when the TV show was searched for most often. To calculate the show’s staying power, we decided to look at the number of weeks that it took for a given show to go from a Google Trends rating of 100 (the maximum possible rating) to a rating of 0 (the minimum possible rating). This number essentially determines how long a show ‘survived’ in the public sphere. The great Ernest Hemingway was quoted as saying “Every man has two deaths, when he is buried in the ground and the last time someone says his name” <span class="citation" data-cites="hemingway">(<a href="#ref-hemingway" role="doc-biblioref">Hemingway, n.d.</a>)</span>. In our minds, every show has two deaths, when the last episode airs and the last time someone searches for its title on Google.</p>
<section id="streaming-platforms" class="level3">
<h3 class="anchored" data-anchor-id="streaming-platforms">Streaming Platforms</h3>
<p>We first decided to look at the show’s streaming platform, to see if that had any significant impact on the length of time of a show’s popularity (<a href="#fig-7"><strong>Figure 7</strong></a>).</p>
<p>As the Kaplan-Meier curve in <a href="#fig-7"><strong>Figure 7</strong></a> shows, there is some difference between the streaming platforms. The two worst performing streaming platforms in terms of sustaining popularity are Peacock and Disney+. Peacock significantly lags behind other platforms, likely due to its relative unpopularity and recent entry into the market. Peacock is the newest of all the streaming platforms tested, launching in July of 2020 <span class="citation" data-cites="comcast">(<a href="#ref-comcast" role="doc-biblioref">Comcast, 2020</a>)</span>. As such, it has not had the time to build up an audience or a reputation as a platform with good original programming. Disney+ is a more interesting example. Disney+ is a very popular streaming platform, but not very good at creating original content that sustains popularity. We hypothesize that this highlights the strengths of Disney+: the catalog of Disney content. Disney+ houses all sorts of Disney Channel shows, <em>Star Wars</em> films, and Marvel films, all of which could be argued are the main draw of Disney+ as a platform, not their original content.</p>
<p>To determine the statistical significance of the survival times by genre, we ran a log rank test. Running the log rank test gave us a p value of <strong>&lt;2e-16</strong>. As such, we can say with confidence that a show’s streaming platform is a significant influence on how the show’s popularity is sustained over time.</p>
<p><a href="images/survival_curve_platform.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="Figure 7: Not all streaming platforms sustain popularity equally; Disney+ and Peacock’s original programming dies in popularity after only 20 weeks, whereas Amazon Video and Netflix sustain their popularity past 200 weeks"><img src="images/survival_curve_platform.png" id="fig-7" class="img-fluid" width="780" alt="Figure 7: Not all streaming platforms sustain popularity equally; Disney+ and Peacock’s original programming dies in popularity after only 20 weeks, whereas Amazon Video and Netflix sustain their popularity past 200 weeks"></a> <em><strong>Figure 7</strong>: Not all streaming platforms sustain popularity equally; Disney+ and Peacock’s original programming dies in popularity after only 20 weeks, whereas Amazon Video and Netflix sustain their popularity past 200 weeks</em></p>
</section>
<section id="genre" class="level3">
<h3 class="anchored" data-anchor-id="genre">Genre</h3>
<p>Next, we wanted to look at the genre of a show and how genres affected the shows’ staying power (<a href="#fig-8"><strong>Figure 8</strong></a>).</p>
<p><a href="images/survival_curve_genre.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8" title="Figure 8: Comedy shows sustain popularity at higher rates than drama or docuseries shows"><img src="images/survival_curve_genre.png" id="fig-8" class="img-fluid" width="780" alt="Figure 8: Comedy shows sustain popularity at higher rates than drama or docuseries shows"></a> <em><strong>Figure 8</strong>: Comedy shows sustain popularity at higher rates than drama or docuseries shows</em></p>
<p>This Kaplan Meier curve tells some interesting stories. First, comedy performs much better than drama and docuseries from around the 10 week to 120 week mark. Meanwhile, docuseries and drama have a nearly identical curve the entire time. This goes counter to what we expected to see, as we thought that drama series would perform better than comedy series, as drama series are often watched “actively” whereas many comedy series are often watched as “comfort watching”. After all, drama and comedy are the two major categories at the Emmy Awards, the premier awards show for TV programming <span class="citation" data-cites="emmys">(<a href="#ref-emmys" role="doc-biblioref">Emmys, n.d.</a>)</span>. We also anticipated that these two genres would perform better than docuseries, and that there would be a larger difference in docuseries when compared with comedy or drama, due in part to how the shows are produced.</p>
<p>With a drama or comedy series (i.e.&nbsp;fictional shows), there must be a team of writers constantly working on writing new episodes and trying to keep things fresh and interesting while crafting an overall narrative arc. This is a very effort-intensive and time-consuming activity that is very hard to sustain over a long period of time. On the other hand, docuseries often can recycle the same ideas over and over again with new individuals. As a reminder, docuseries includes shows such as reality shows, game shows, and true crime docuseries. For example, one show in the docuseries category is the dating show <em>Love is Blind</em>. What is really different from one season to another other than the contestants? The format is the same, the show’s structure is the same, they just swap out the old contestants for new contestants. This difference makes sustaining a docuseries much easier than sustaining a drama or comedy show.</p>
<p>We ran a log rank test on our genre Kaplan-Meier curve as well, and this test resulted in a p value of <strong>&lt;2e-16</strong>. As such, we can say that genre absolutely plays a significant role in the sustained popularity of a given show.</p>
</section>
<section id="show-release-schedule" class="level3">
<h3 class="anchored" data-anchor-id="show-release-schedule">Show Release Schedule</h3>
<p>Finally, after seeing how a show’s streaming platform and genre can affect their staying power, we decided to look into the survival probabilities of the different release schedules (<a href="#fig-9"><strong>Figure 9</strong></a>).</p>
<p>This graphic provides some interesting insights. First, hybrid release schedules perform by far the worst in the beginning stages. This is interesting, as the different streaming platforms treat this release type differently. On Apple TV+, the hybrid release is essentially the default release type at this point in time, whereas on Netflix, hybrid release schedules are reserved for the most high-performing and popular shows on the platform, such as <em>Stranger Things</em> and <em>Bridgerton</em>. This likely is the cause for the relative low performance of the hybrid release type.</p>
<p>The all-at-once and weekly release schedules are fairly similar, with just a small difference in the middle section from about week 50-125, where all-at-once release schedules perform better. Interestingly, there’s very little difference between the shows in its first few weeks. We anticipated seeing a larger difference between the weekly and all-at-once releases in the show’s infancy, but there are very few differences detected.</p>
<p>Running a log rank test on the release schedules gives a p value of <strong>&lt;2e-16</strong>. As the release schedule, genre, and streaming platform are all statistically significant variables influencing popularity, we wanted to see how the combination of release schedule with these other factors influenced their survival probabilities.</p>
<p><a href="images/survival_curve_schedule.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9" title="Figure 9: Hybrid releases are the worst performing of all release schedules, whereas all-at-once releases sustain their popularity at higher rates for longer"><img src="images/survival_curve_schedule.png" id="fig-9" class="img-fluid" width="780" alt="Figure 9: Hybrid releases are the worst performing of all release schedules, whereas all-at-once releases sustain their popularity at higher rates for longer"></a> <em><strong>Figure 9</strong>: Hybrid releases are the worst performing of all release schedules, whereas all-at-once releases sustain their popularity at higher rates for longer</em></p>
</section>
<section id="show-release-schedule-and-genre" class="level3">
<h3 class="anchored" data-anchor-id="show-release-schedule-and-genre">Show Release Schedule and Genre</h3>
<p>We first decided to look at the combination of show release schedule with show genre (<a href="#fig-10"><strong>Figure 10</strong></a>).</p>
<p>This graphic offers some interesting insights that the survival curves for genre and release schedule alone could not offer. It is apparent that every release type is not appropriate for every single genre. Weekly releases for comedy and drama shows are the poorest performing combinations when it comes to sustaining popularity. This goes along with our hypothesis that weekly releases are not good for building up a show’s popularity. Surprisingly, docuseries with weekly releases do the best at sustaining popularity. We were surprised by this, as we expected to see a higher popularity of all-at-once docuseries, due in part to their oftentimes low number of episodes and are covering time-sensitive issues. This likely has to do with the fact that there are only 9 total shows that are weekly released docuseries in our dataset, and two of those shows are extremely popular shows: <em>Last Week Tonight</em> and <em>The Grand Tour</em>. The success of these two shows skew our results a bit.</p>
<p>Drama releases are very interesting to compare. All at once drama releases sustain their popularity at the greatest rates, and hybrid release drama series are the worst at sustaining popularity, with weekly releases falling in the middle. This is contrary to what we hypothesized, thinking that a hybrid release would be the best of both worlds. When in reality, hybrid releases seem to be the worst of both worlds.</p>
<p>Performing a log rank test on the survival curves gives a p value of <strong>&lt;2e-16</strong>. Therefore, we can say with confidence that the combination of release schedule and genre is statistically significantly impacting the length of time that a show sustains its popularity.</p>
<p><a href="images/survival_curve_genre_schedule.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10" title="Figure 10: Not all release schedules are good for all genres; weekly comedy shows are the worst performing of all combinations, whereas weekly docuseries are the best performing of all combos"><img src="images/survival_curve_genre_schedule.png" id="fig-10" class="img-fluid" width="780" alt="Figure 10: Not all release schedules are good for all genres; weekly comedy shows are the worst performing of all combinations, whereas weekly docuseries are the best performing of all combos"></a> <em><strong>Figure 10</strong>: Not all release schedules are good for all genres; weekly comedy shows are the worst performing of all combinations, whereas weekly docuseries are the best performing of all combos</em></p>
</section>
<section id="show-release-schedule-and-streaming-platform" class="level3">
<h3 class="anchored" data-anchor-id="show-release-schedule-and-streaming-platform">Show Release Schedule and Streaming Platform</h3>
<p>We finally wanted to look at the survival probabilities of the different release schedules for each individual streaming platform (<a href="#fig-11"><strong>Figure 11</strong></a>).</p>
<p>First and foremost, it’s clear to see that not every release schedule performs equally well for each streaming platform. In fact, we see each individual release schedule represented as both the best possible release schedule and the worst possible release schedule for at least one platform.</p>
<p>Some overall trends of note include that all-at-once releases are the worst performing for 5 out of our 8 streaming platforms. Hybrid and weekly release schedules tend to be the best performing for most platforms, with a few exceptions. Hybrid and all-at-once release schedules are the best for Netflix.</p>
<p>As with our other Kaplan-Meier curves, we performed a log rank test to determine if the results that we are seeing are in fact statistically significant. The log rank test gave us a p value of <strong>&lt;2e-16</strong>, so we can confirm that these results are statistically significant.</p>
<p><a href="images/survival_curve_schedule_platform.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11" title="Figure 11: The ideal release schedule is different depending on the streaming platform"><img src="images/survival_curve_schedule_platform.png" id="fig-11" class="img-fluid" width="780" alt="Figure 11: The ideal release schedule is different depending on the streaming platform"></a> <em><strong>Figure 11</strong>: The ideal release schedule is different depending on the streaming platform</em></p>
</section>
</section>
<section id="machine-learning" class="level2">
<h2 class="anchored" data-anchor-id="machine-learning">Machine Learning</h2>
<p>As we were looking at the yearly ratings table, we came across an interesting find: of all of the shows in the dataset, 8.91% (61/684) had their release schedules changed at some point in the show’s lifetime. Meaning, the show had multiple different release schedules, such as changing from releasing all-at-once to a hybrid release schedule. These changes occurred for the different seasons of a show. But of the shows that appeared in the yearly top 10 rankings for each streaming platform, 22% (55/250) had their release schedules changed.</p>
<p>We were interested in seeing if the difference in the proportion of shows with changing release schedule types in our overall dataset (61/684) vs shows that appeared in the yearly top 10 ranking for a given streaming platform (55/250) was statistically significant, so we ran a Chi Square test on these values. Running our Chi Square test, we found that the p value was <strong>7.501e-07</strong>. As such, we can say that this difference in the number of shows whose release schedules were changed is statistically significant.</p>
<p>We wanted to delve deeper into the changing release schedules and how those impact the popularity of a show. Therefore, we decided to create a Machine Learning model to predict whether a show appeared in a yearly top 10 ranking. After all, a great sign that a show’s popularity is sustained is that it was one of the 10 most watched shows on the streaming platform over the course of a year.</p>
<p>We decided to use an ensemble model consisting of four different machine learning models: Logistic Regression, Decision Tree Classifier, Random Forest Classifier, and Support Vector Classifier (SVC). These models were selected as they provided a good combination of modeling and performance, and so we felt that having these four models in our ensemble would produce the best results.</p>
<p>We wanted to specifically predict whether a show would appear in a yearly top 10. As such, we needed to balance our class weights. Only a small subset of the total number of shows in our dataset appeared on a yearly top 10, and as such, our class weights were very imbalanced. This led to our initial models having high overall accuracy, but achieving that high accuracy by simply predicting that essentially no shows would be in the top 10. Therefore, we balanced our class weights between those that appeared in a yearly top 10 and those that did not. We recognize and accept that this decision lowers our overall accuracy, but increases our accuracy within the shows that appear in a yearly top 10, which is what we want to predict.</p>
<p>In order to ensure the highest level of accuracy within our model, we performed both a test-train split to create a set of testing data to compare our model against, and we performed a cross validation to ensure that our model was performing consistently across different test groups. Our model used the following variables to predict whether or not a show was in a yearly top 10: genre, foreign language (if the show was in a foreign language or not), miniseries (binary variable of if show is miniseries or not), weeks in Nielsen (the total number of weeks the show appeared in a Nielsen top 10 ranking), and release_changed (whether or not the show’s release schedule changed over the course of its life). We had initially planned on including the show’s release schedule as a variable in this analysis, but ended up pivoting to the release schedule changing. This was due to the statistically significant difference in the proportion of shows in a Yearly Top 10 Ranking vs in the overall dataset whose schedules changed, as we wanted to see just how telling this change truly was.</p>
<p>When we ran our model, we had an overall accuracy of <strong>80.3%</strong>. This accuracy was consistent with our cross validation scores, all of which fell in the range of 78-82% accuracy. Our model returned the following confusion matrix on our test data (<a href="#fig-12"><strong>Figure 12</strong></a>).</p>
<p>Our model successfully classified 27 of the 34 total shows in our test dataset that appeared in a yearly top 10 ranking. The model inaccurately predicts that 27 shows would be in a yearly top 10 when in reality they were not in any such top 10 rankings. We accepted this over-predicting as we wanted our model to be as accurate as possible at predicting yearly top 10 shows, and were more concerned with that accuracy than the overall accuracy of the model.</p>
<p><a href="images/machine_learning_model.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12" title="Figure 12: Our model correctly predicts 27/34 shows that appear in a yearly top 10 ranking (numbers are lower than overall numbers due to splitting our data into a training set and a testing set; this Confusion Matrix reflects the results of our model on the testing data set)"><img src="images/machine_learning_model.png" id="fig-12" class="img-fluid" width="780" alt="Figure 12: Our model correctly predicts 27/34 shows that appear in a yearly top 10 ranking (numbers are lower than overall numbers due to splitting our data into a training set and a testing set; this Confusion Matrix reflects the results of our model on the testing data set)"></a> <em><strong>Figure 12</strong>: Our model correctly predicts 27/34 shows that appear in a yearly top 10 ranking (numbers are lower than overall numbers due to splitting our data into a training set and a testing set; this Confusion Matrix reflects the results of our model on the testing data set)</em></p>
<p>In order to further improve our model, we would like to introduce other variables such as critical reception and perhaps a sentiment analysis of posts about the show on various social media platforms. With these additional variables, we hope that our model would be even more accurate at predicting whether a show would appear in a yearly top 10 ranking.</p>
</section>
</section>
<section id="conclusions" class="level1">
<h1>Conclusions</h1>
<p>The question this project set out to answer was “<em>Does the release schedule of a show (weekly, in parts, or all at once) impact their staying power?</em>” We mainly focused on the release schedule of a show. We also looked at extra contributing factors, including genre and streaming platform. We found that there is a statistically significant difference in how long a show’s popularity is sustained based on the streaming platform, the genre, and the release schedule. We also found that the combination of release schedule and genre is statistically significant for a show’s sustained popularity. Moreover, it appears that the success of shows depends on their streaming platform, and not all streaming platforms have similar successes; what release schedule is best for one streamer is often not the best for another streamer.</p>
<p>One variable we did not analyze was critical reception. While we analyzed various factors surrounding shows, we didn’t take into account how good the show is based on variables such as critical reception or award nominations. Shows can be released with the ideal schedule, on the ideal platform, and in the ideal genre to have the most popularity possible – but if viewers and critics don’t like it, it won’t succeed.</p>

</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-barnes2019" class="csl-entry" role="listitem">
Barnes, B. (2019). The Streaming Era Has Finally Arrived. Everything Is about to Change. <em>The New York Times</em>. <a href="https://www.nytimes.com/2019/11/18/business/media/streaming-hollywood-revolution.html">https://www.nytimes.com/2019/11/18/business/media/streaming-hollywood-revolution.html</a>
</div>
<div id="ref-comcast" class="csl-entry" role="listitem">
Comcast. (2020). Peacock Launches Nationally with Free and Premium Tiers. <em>Comcast Corporation</em>. <a href="https://corporate.comcast.com/press/releases/peacock-launches-nationally-july-15-free-and-premium-tiers">https://corporate.comcast.com/press/releases/peacock-launches-nationally-july-15-free-and-premium-tiers</a>
</div>
<div id="ref-emmys" class="csl-entry" role="listitem">
Emmys. (n.d.). Categories &amp; Key Dates. <em>International Academy of Television Arts Sciences</em>. <a href="https://www.iemmys.tv/entries-judging/categories-key-dates/">https://www.iemmys.tv/entries-judging/categories-key-dates/</a>
</div>
<div id="ref-hemingway" class="csl-entry" role="listitem">
Hemingway, E. (n.d.). <em>A Quote by Ernest Hemingway</em>. <a href="https://www.goodreads.com/quotes/9556005-every-man-has-two-deaths-when-he-is-buried-in">https://www.goodreads.com/quotes/9556005-every-man-has-two-deaths-when-he-is-buried-in</a>
</div>
<div id="ref-mcfarland2024" class="csl-entry" role="listitem">
McFarland, M. (2024). Dissecting the Frustration and Confusion of the "Bridgerton" Split Season. <em>Salon</em>. <a href="https://www.salon.com/2024/06/10/bridgerton-split-season-3/">https://www.salon.com/2024/06/10/bridgerton-split-season-3/</a>
</div>
<div id="ref-northwestern2024" class="csl-entry" role="listitem">
Medicine, N. (2024). Binge-Watching and Your Health. <em>Northwestern Medicine</em>. <a href="https://www.nm.org/healthbeat/healthy-tips/emotional-health/binge-watching ">https://www.nm.org/healthbeat/healthy-tips/emotional-health/binge-watching </a>
</div>
<div id="ref-molla2020" class="csl-entry" role="listitem">
Molla, R., &amp; Kafka, P. (2020). How Netflix Made Breaking Bad a Hit — and Why That Won’t Happen Again. <em>Vox</em>. <a href="https://www.vox.com/recode/2020/7/14/21312595/netflix-breaking-bad-podcast-streaming-land-of-the-giants">https://www.vox.com/recode/2020/7/14/21312595/netflix-breaking-bad-podcast-streaming-land-of-the-giants</a>
</div>
<div id="ref-moses2023" class="csl-entry" role="listitem">
Moses, C. (2023). What Your Favorite Streaming Services Will Cost You in 2024. <em>The New York Times</em>. <a href="https://www.nytimes.com/2023/12/29/business/streaming-advertising-2024-netflix-amazon-prime.html">https://www.nytimes.com/2023/12/29/business/streaming-advertising-2024-netflix-amazon-prime.html</a>
</div>
<div id="ref-nickinson2024" class="csl-entry" role="listitem">
Nickinson, P. (2024). The 10 Most Popular Streaming Services, Ranked by Subscriber Count. <em>Digital Trends</em>. <a href="https://www.digitaltrends.com/home-theater/most-popular-streaming-services-by-subscribers/">https://www.digitaltrends.com/home-theater/most-popular-streaming-services-by-subscribers/</a>
</div>
<div id="ref-press2021" class="csl-entry" role="listitem">
Press, J. (2021). One Episode at a Time, Please: Is a Binge Backlash Brewing? <em>Vanity Fair</em>. <a href="https://www.vanityfair.com/hollywood/2021/05/tv-binge-vs-episode-by-episode-backlash">https://www.vanityfair.com/hollywood/2021/05/tv-binge-vs-episode-by-episode-backlash</a>
</div>
<div id="ref-rumble2018" class="csl-entry" role="listitem">
Rumble, T. (2018). 7 Shows That Helped Make Netflix so Popular. <em>BBC</em>. <a href="https://www.bbc.com/news/entertainment-arts-44870538">https://www.bbc.com/news/entertainment-arts-44870538</a>
</div>
<div id="ref-sutton2023" class="csl-entry" role="listitem">
Sutton, K. (2023). HBO’s Sunday Night Shows Are More Important Than Ever. <em>Marketing Brew</em>. <a href="https://www.marketingbrew.com/stories/2023/03/31/hbo-s-sunday-night-shows-are-more-important-than-ever">https://www.marketingbrew.com/stories/2023/03/31/hbo-s-sunday-night-shows-are-more-important-than-ever</a>
</div>
<div id="ref-thomas2021" class="csl-entry" role="listitem">
Thomas, K., &amp; Gennis, S. (2021). The Great Binge-Watches of the Streaming Era. <em>Polygon</em>. <a href="https://www.polygon.com/22417317/best-tv-shows-binge-watch">https://www.polygon.com/22417317/best-tv-shows-binge-watch</a>
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<script>var lightboxQuarto = GLightbox({"loop":false,"closeEffect":"zoom","selector":".lightbox","openEffect":"zoom","descPosition":"bottom"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>